{% extends "base.html" %}

{% block head %}
  <title>Real Estate Blog | Great Mar-cy’s & Sons Limited</title>
  <meta name="description" content="Stay updated with the latest property news, real estate tips, and investment insights from Great Mar-cy’s & Sons Limited — your trusted property experts in Ilorin, Kwara.">
  <meta name="keywords" content="real estate blog, property tips, real estate Ilorin, Great Marcy Sons Limited blog, land investment Nigeria, property news Kwara">
  <link rel="canonical" href="https://greatmarcysonslimited.com/blog">

  <!-- Open Graph -->
  <meta property="og:title" content="Real Estate Blog | Great Mar-cy’s & Sons Limited">
  <meta property="og:description" content="Discover real estate insights and investment tips from Great Mar-cy’s & Sons Limited.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://greatmarcysonslimited.com/blog">
  <meta property="og:image" content="https://greatmarcysonslimited.com/static/image/logo.jpg">
  <meta property="og:site_name" content="Great Mar-cy’s & Sons Limited">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Real Estate Blog | Great Mar-cy’s & Sons Limited">
  <meta name="twitter:description" content="Explore real estate tips, updates, and property guides from Great Mar-cy’s & Sons Limited.">
  <meta name="twitter:image" content="https://greatmarcysonslimited.com/static/image/logo.jpg">

  <!-- Blog Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "name": "Great Mar-cy’s & Sons Limited Real Estate Blog",
    "description": "Real estate news, property tips, and investment insights from Great Mar-cy’s & Sons Limited in Ilorin, Kwara.",
    "publisher": {
      "@type": "Organization",
      "name": "Great Mar-cy’s & Sons Limited",
      "logo": {
        "@type": "ImageObject",
        "url": "https://greatmarcysonslimited.com/static/image/logo.jpg"
      }
    },
    "url": "https://greatmarcysonslimited.com/blog"
  }
  </script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="blog-hero">
  <div class="container">
    <h1>Our Blog</h1>
    <p class="subtitle">Read our latest updates, insights, and real estate tips</p>
  </div>
</section>

<!-- Featured Post -->
{% if posts|length > 0 %}
<section class="featured-post">
  <div class="container">
    <div class="featured-card">
      {% set post = posts[0] %}
      {% if post.image_url %}
        <img src="{{ url_for('serve_file', filename=post.image_url) }}" alt="{{ post.title }}" loading="lazy">
      {% endif %}
      <div class="featured-content">
        <h2><a href="{{ url_for('blog_post', slug=post.slug) }}">{{ post.title }}</a></h2>
        <p>{{ post.content[:250] }}{% if post.content|length > 250 %}...{% endif %}</p>
        <small>Posted on {{ post.created_at.strftime("%B %d, %Y") }}</small>
        <div class="read-more">
          <a href="{{ url_for('blog_post', slug=post.slug) }}" aria-label="Read more about {{ post.title }}">Read More</a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- Blog Grid -->
<section class="blog-list-section">
  <div class="container blog-list">
    {% for post in posts[1:] %}
    <article class="blog-card">
      {% if post.image_url %}
        <img src="{{ url_for('serve_file', filename=post.image_url) }}" alt="{{ post.title }}" loading="lazy">
      {% endif %}
      <h3><a href="{{ url_for('blog_post', slug=post.slug) }}">{{ post.title }}</a></h3>
      <p>{{ post.content[:150] }}{% if post.content|length > 150 %}...{% endif %}</p>
      <small>Posted on {{ post.created_at.strftime("%B %d, %Y") }}</small>
      <div class="read-more">
        <a href="{{ url_for('blog_post', slug=post.slug) }}" aria-label="Read more about {{ post.title }}">Read More</a>
      </div>
    </article>
    {% else %}
    <p>No posts found.</p>
    {% endfor %}
  </div>
</section>

{% endblock %}
