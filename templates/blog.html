{% extends "base.html" %}

{% block content %}
<h2>Blog</h2>
<div class="blog-list">
  {% for post in posts %}
  <div class="blog-card">
    {% if post.image_url %}
    <img src="{{ url_for('serve_file', filename=post.image_url) }}" alt="{{ post.title }}">
    {% endif %}
    <h3><a href="{{ url_for('blog_post', post_id=post.id) }}">{{ post.title }}</a></h3>
    <p>{{ post.content[:150] }}...</p>
    <small>Posted on {{ post.created_at.strftime("%B %d, %Y") }}</small>
  </div>
  {% endfor %}
</div>
{% endblock content %}
