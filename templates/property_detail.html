<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17421133724"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17421133724');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Dynamic SEO -->
  <title>{{ seo.title if seo.title else property.title }} | Great Mar-cy’s & Sons Limited</title>
  <meta name="description" content="{{ seo.description if seo.description else property.description[:150] }}">
  <meta name="keywords" content="{{ seo.keywords if seo.keywords else 'land for sale, property in Ilorin, real estate Kwara, Great Marcy Sons Limited, buy land Nigeria' }}">
  <link rel="canonical" href="{{ request.url }}">

  <!-- Open Graph / Social -->
  <meta property="og:title" content="{{ seo.title if seo.title else property.title }} | Great Mar-cy’s & Sons Limited">
  <meta property="og:description" content="{{ seo.description if seo.description else property.description[:150] }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="https://greatmarcysonslimited.com{{ url_for('serve_file', filename=seo.image) if seo.image else url_for('static', filename='image/logo.jpg') }}">
  <meta property="og:site_name" content="Great Mar-cy’s & Sons Limited">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ seo.title if seo.title else property.title }}">
  <meta name="twitter:description" content="{{ seo.description if seo.description else property.description[:150] }}">
  <meta name="twitter:image" content="https://greatmarcysonslimited.com{{ url_for('serve_file', filename=seo.image) if seo.image else url_for('static', filename='image/logo.jpg') }}">

  <!-- Structured Data for Property -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SingleFamilyResidence",
    "name": "{{ seo.title if seo.title else property.title }}",
    "description": "{{ seo.description if seo.description else property.description[:150] }}",
    "image": "https://greatmarcysonslimited.com{{ url_for('serve_file', filename=seo.image) if seo.image else url_for('static', filename='image/logo.jpg') }}",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "{{ property.location }}",
      "addressRegion": "Kwara",
      "addressCountry": "NG"
    },
    "url": "{{ request.url }}"
  }
  </script>

  <!-- Structured Data for Company -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "RealEstateAgent",
    "name": "Great Mar-cy’s & Sons Limited",
    "url": "https://greatmarcysonslimited.com/",
    "logo": "https://greatmarcysonslimited.com/static/image/logo.jpg",
    "telephone": ["+2349139070404", "+2349028939653"],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Ilorin",
      "addressRegion": "Kwara State",
      "addressCountry": "NG"
    },
    "sameAs": [
      "https://www.facebook.com/greatmarcysonslimited",
      "https://www.instagram.com/greatmarcysonslimited",
      "https://www.linkedin.com/company/greatmarcysonslimited"
    ]
  }
  </script>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/property.css') }}">
</head>

<body>
  <header>
    <h1>{{ property.title }}</h1>
    <p><strong>Location:</strong> {{ property.location }}</p>
  </header>

  <div class="container">
    <div class="property-detail">
      {% if property.image_url %}
        <img src="{{ url_for('serve_file', filename=property.image_url) }}" alt="{{ property.title }} for sale in {{ property.location }}" loading="lazy">
      {% endif %}

      {% if property.video_url %}
        <video controls preload="metadata" poster="{{ url_for('static', filename='image/video-fallback.jpg') }}">
          <source src="{{ url_for('serve_file', filename=property.video_url) }}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      {% endif %}

      <div class="description">
        <p>{{ property.description }}</p>
      </div>
    </div>
  </div>

  <footer>
    <p>&copy; {{ now.year }} Great Mar-cy’s & Sons Limited. All rights reserved.</p>
    <p>Contact us: 
      <a href="tel:+2349139070404">+234 913 907 0404</a> | 
      <a href="tel:+2349028939653">+234 902 893 9653</a>
    </p>
  </footer>
</body>
</html>
