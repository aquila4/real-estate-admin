<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17421133724"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17421133724');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Dynamic SEO -->
  <title>{{ seo.title if seo.title else property.title }}</title>
  <meta name="description" content="{{ seo.description if seo.description else property.description[:150] }}">
  {% if seo.keywords %}
  <meta name="keywords" content="{{ seo.keywords }}">
  {% endif %}

  <!-- Open Graph / Social -->
  <meta property="og:title" content="{{ seo.title if seo.title else property.title }}">
  <meta property="og:description" content="{{ seo.description if seo.description else property.description[:150] }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="{{ url_for('serve_file', filename=seo.image) if seo.image else url_for('static', filename='image/logo.jpg') }}">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SingleFamilyResidence",
    "name": "{{ seo.title if seo.title else property.title }}",
    "description": "{{ seo.description if seo.description else property.description[:150] }}",
    "image": "{{ url_for('serve_file', filename=seo.image) if seo.image else url_for('static', filename='image/logo.jpg') }}",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "{{ property.location }}",
      "addressRegion": "Kwara",
      "addressCountry": "NG"
    }
  }
  </script>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/property.css') }}">
</head>
<body>

  <header>
    <h1>{{ property.title }}</h1>
    <p><strong>Location:</strong> {{ property.location }}</p>
  </header>

  <div class="container">
    <div class="property-detail">
      {% if property.image_url %}
        <img src="{{ url_for('serve_file', filename=property.image_url) }}" alt="{{ property.title }}">
      {% endif %}

      {% if property.video_url %}
        <video controls>
          <source src="{{ url_for('serve_file', filename=property.video_url) }}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      {% endif %}

      <div class="description">
        <p>{{ property.description }}</p>
      </div>
    </div>
  </div>

  <footer>
    &copy; {{ now.year }} Great Mar-cyâ€™s & Sons Limited. All rights reserved.
  </footer>

</body>
</html>
